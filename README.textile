h3. Ugc Url branch of whatmail

Master branch is a simple mailform. The ugcurl branch is an adhoc form for apps like "SynPhonia":http://github.com/thedod/SynPhonia where there's user generated content (ugc), in this case - an audio mix, and each _ugc_ item can be can be accessed (or recreated in the case of SynPhonia) by visiting the _url_ the user just came from (i.e. the _referrer_).

In case of Synphonia, the whole mix is defined by the query part of the url (and it's guaranteed to be pretty long), so we also use a bit.ly url shortener to make the _url_ sent by mail managable.

The Ugc Url cgi does the following things:

# Makes sure the referrer url is acceptable (we don't want this to be used from dubious referrers)

# Shortens the url via the "bit.ly":http://bit.ly api

# Shows some ways to share the url via various social networks (that's a bonus, since we've already shortened the url :) ).

# Displays a whatmail form that submits the ugc item (e.g. the mix) for a contest etc.

All this is very ad-hoc and very specific, but I can think of cases where such a cgi can be handy.

h4. New dependency

Added "python-bitly":http://code.google.com/p/python-bitly/, so now we depend on "simplejson":http://cheeseshop.python.org/pypi/simplejson

h4. Original README of master branch

WhatMail by "@TheRealDod":http://twitter.com/TheRealDod

This is a simple cgi contact form that has recaptcha and can handle utf-8.

I always need one, and I always end up writing it again. Never again [I hope].

Uses Recaptcha "client library":http://pypi.python.org/pypi/recaptcha-client and Denevers "mysender":http://github.com/denever/mysender/ SMTP wrapper (both included).

There's no email address validation and no assumption that such an address is entered at all.
It's not added as a Reply-to header so that I won't reveal my email address by accident.
My friends can leave a name, strangers can leave a phone number, I'm easy :)

To install:

* Put all files (including .htaccess) in a web-accessible folder.

* Check your .htaccess settings by accessing testcgi.py from web: If you see
  python source, do *not* continue to the next step (creating whatconf.py). This file
  will contain passwords and keys, and you have to make sure it can't be accessible
  from web. If .htaccess doesn't do the trick, show it to your sysadmin and ask to config
  your folder at the apache according to what's written there.

* copy whatconf_example.py to whatconf.py and edit it. See comments inside the file.

* That's it. You can now access the folder via web (e.g. /whatmail/) and get a contact form.
  Send yourself a message to congratulate yourself.
